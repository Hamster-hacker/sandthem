<div class="background">
  <div class="container">
    <div class="row">
      <% @dreams.each do |dream| %>
        <div class="col-lg-3 col-md-4 col-sm-6 mt-4 mb-2">
          <div class="card h-100 border-0 shadow-sm" style="overflow: hidden; border-radius: 20px">
            <%= link_to dream, style: "color: inherit; text-decoration: none;" do %>
              <div class="card-category image" style="height: 200px; background-size: cover; background-position: center; background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.3)), url('<%= dream.photo.attached? ? cl_image_path(dream.photo.key) : asset_path(dream.image_url)%>');">
              </div>
              <div class="card-body">
                <h5 class="card-title text-truncate"><%= dream.title %></h5>
                <p class="card-text"><%= number_to_currency(dream.price) %></p>
                <% if dream.reviews.any? %>
                  <p class="card-text text-muted">
                    <%= dream.reviews.average(:rating).to_f.round(1) || 0.0 %> / 5.0
                  </p>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
