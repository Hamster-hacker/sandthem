<div class="background">
  <div class="container">
    <div class="row">
      <% @dreams.each do |dream| %>
        <div class="col-lg-3 col-md-4 col-sm-6 mt-4 mb-2">
          <%= link_to dream, style: "color: inherit; text-decoration: none;" do %>
            <div class="card h-100 border-0 shadow-sm dream-card" style="overflow: hidden; border-radius: 20px">
              <div class="card-category image" style="height: 200px; background-size: cover; border-radius: 20px; background-position: center; background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0)), url('<%= dream.photo.attached? ? cl_image_path(dream.photo.key) : asset_path(dream.image_url)%>');">
              </div>
              <div class="card-body p-1" >
                <h5 class="card-title text-truncate"><%= dream.title %></h5>
                <div class = "d-flex justify-content-between">

                  <p class="card-text"><%= number_to_currency(dream.price, unit: "€") %></p>
                  <% if dream.reviews.any? %>
                    <p class="card-text">
                      <%= dream.reviews.average(:rating).to_f.round(1) || 0.0 %> ⭐
                    </p>
                  <% end %>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
